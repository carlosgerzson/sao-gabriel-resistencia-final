<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>São GAbriel> Resistência Final</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div id="game-container">
        <div id="game">           
                    
            <div id="game-controls">
                <button id="pausar-continuar-btn">Pausar</button>
                <button id="salvar-btn">Salvar Jogo</button>
                <button id="terminar-partida-btn">Terminar Partida</button>
            </div>                    

            <div id="ui-container">                
                    <div id="tempo">00:00</div>                    
            </div>            

            <img id="background" src="background.png" alt="Background">
            <img id="ford_t" src="ford_t.png" alt="Ford T">
            <img src="army_e.png" alt="Army E" class="army" id="army_e">
            <img src="army_c.png" alt="Army C" class="army" id="army_c">
            <img src="army_d.png" alt="Army D" class="army" id="army_d">
            <img id="torre_e" src="torre_e.png" alt="Torre E">
            <img id="torre_c_e_d" src="torre_c_e_d.png" alt="Torre C e D">
            <img id="pedestal_d" src="pedestal_d.png" alt="Pedestal D">
            <img id="target" src="target.png" alt="Target" style="position:absolute; display:none;">  
            
            <div id="tela-ativa" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background-color: rgba(0, 0, 0, 0.8); flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                <div id="briefing-container" style="display: flex; flex-direction: column; align-items: center;">
                    <img id="briefing-img" src="" alt="Briefing" style="max-width: 80%; max-height: 80%; margin-bottom: 20px;">
                </div>
                <button id="btn-iniciar-jogo" style="margin-top: 20px; padding: 10px 20px; font-size: 1.2em; cursor: pointer;">Jogar</button>
            </div>

                       
            <div id="alvo1-container" class="alvo-container">
                <div id="alvo1_predio" class="alvo1-camada alvo1-predio"></div>
                <div id="alvo1_dano1" class="alvo1-camada alvo1-dano1" style="display: none;"></div>
                <div id="alvo1_dano2" class="alvo1-camada alvo1-dano2" style="display: none;"></div>
                <div id="alvo1_destruido" class="alvo1-camada alvo1-destruido" style="display: none;"></div>
                <div id="alvo1_fundo" class="alvo1-camada alvo1-fundo" style="display: none;"></div>
            </div>

            <div id="alvo2-container" class="alvo-container">
                <div id="alvo2_predio" class="alvo2-camada alvo2-predio"></div>
                <div id="alvo2_dano1" class="alvo2-camada alvo2-dano1" style="display: none;"></div>
                <div id="alvo2_dano2" class="alvo2-camada alvo2-dano2" style="display: none;"></div>
                <div id="alvo2_destruido" class="alvo2-camada alvo2-destruido" style="display: none;"></div>
                <div id="alvo2_fundo" class="alvo2-camada alvo2-fundo" style="display: none;"></div>
            </div>

            <div id="alvo3-container" class="alvo-container">
                <div id="alvo3_predio" class="alvo3-camada alvo3-predio"></div>
                <div id="alvo3_dano1" class="alvo3-camada alvo3-dano1" style="display: none;"></div>
                <div id="alvo3_dano2" class="alvo3-camada alvo3-dano2" style="display: none;"></div>
                <div id="alvo3_destruido" class="alvo3-camada alvo3-destruido" style="display: none;"></div>
                <div id="alvo3_fundo" class="alvo3-camada alvo3-fundo" style="display: none;"></div>
            </div>

            <img src="antimissil.png" alt="Míssil" class="missil" style="position: absolute; display: none;">
            <button id="modo-jogo-btn">Modo Coordenado</button>
            <img src="explosion.gif" class="explosion" id="explosion" style="display: none;">
            <div id="mensagem-feedback"
                style="display: none; position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background-color: yellow; padding: 10px; border: 1px solid black; z-index: 1000;">
            </div>

            <div id="tela-fim-de-fase" class="tela tela-absoluta">
                <img id="imagem-fim-de-fase" src="fim_fase_sucesso.png" alt="Fim de Fase">
                <button id="btn-voltar-mapa">Voltar ao Mapa</button>
            </div>

            
        </div>
    </div>   

<script>
        function ajustarEscala() {
    const larguraViewport = window.innerWidth;
    const alturaViewport = window.innerHeight;
    const proporcaoJogo = 9 / 16; // Proporção do jogo
    const proporcaoViewport = larguraViewport / alturaViewport;

    let escala = 1;

    if (proporcaoViewport > proporcaoJogo) {
        // Viewport mais larga que o jogo => ajustar pela altura
        escala = alturaViewport / 1600;
    } else {
        // Viewport mais estreita que o jogo => ajustar pela largura
        escala = larguraViewport / 900;
    }

    const game = document.getElementById('game');
    game.style.transform = `scale(${escala})`;
    game.style.transformOrigin = 'top left'; // Aplica a alteração aqui
}

// Certifique-se de chamar esta função no carregamento da página e no redimensionamento da janela
window.onload = ajustarEscala;
window.addEventListener('resize', ajustarEscala);
    </script>

    <script src="main.js"></script>
    <script src="navegacao.js" defer></script>
</body>
</html>